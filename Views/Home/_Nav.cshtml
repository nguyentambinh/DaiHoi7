<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #2F7DE2;">
    <div class="container layout-container">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-start" id="mainNav">
            <ul class="navbar-nav">

                <li class="nav-item">
                    <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "TinTuc" ? "active" : "")"
                       href="@Url.Action("TinTuc", "Home")">TIN TỨC ĐẠI HỘI</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "GopY" ? "active" : "")"
                       href="@Url.Action("GopY", "Home")">GÓP Ý VĂN KIỆN</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "BieuQuyet" ? "active" : "")"
                       href="@Url.Action("BieuQuyet", "Home")">BIỂU QUYẾT VĂN KIỆN</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "ThongTin" ? "active" : "")"
                       href="@Url.Action("ThongTin", "Home")">THÔNG TIN ĐẠI BIỂU</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "ThongDiep" ? "active" : "")"
                       href="@Url.Action("ThongDiep", "Home")">THÔNG ĐIỆP GỬI ĐẠI HỘI</a>
                </li>

                <!-- Dropdown -->
                <li class="nav-item dropdown">
                    @{
                        var action = ViewContext.RouteData.Values["action"].ToString();
                        bool isDropdownActive = action == "LichTrinh" || action == "HuongDan";
                    }
                    <a class="nav-link dropdown-toggle @(isDropdownActive ? "active" : "")"
                       href="#" data-bs-toggle="dropdown">XEM THÊM</a>

                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item @(action == "LichTrinh" ? "active" : "")"
                               href="@Url.Action("LichTrinh", "Home")">Lịch trình Đại hội</a>
                        </li>
                        <li>
                            <a class="dropdown-item @(action == "HuongDan" ? "active" : "")"
                               href="@Url.Action("HuongDan", "Home")">Hướng dẫn Đại biểu</a>
                        </li>
                    </ul>
                </li>

            </ul>
        </div>
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const navLinks = document.querySelectorAll('.navbar-nav .nav-link, .dropdown-menu .dropdown-item');

        navLinks.forEach(link => {
            link.addEventListener('click', function () {
                navLinks.forEach(l => l.classList.remove('active'));

                if (this.classList.contains('dropdown-item')) {
                    this.classList.add('active');
                    this.closest('.dropdown').querySelector('.dropdown-toggle').classList.add('active');
                } else {
                    this.classList.add('active');
                }
            });
        });
    });
    document.addEventListener("DOMContentLoaded", function () {
        const navBreaks = document.querySelectorAll('.nav-break');

        function toggleBreaks() {
            const width = window.innerWidth;
            const showBreak = width >= 1000 && width < 1200;

            navBreaks.forEach(br => {
                br.style.display = showBreak ? 'block' : 'none';
            });
        }

        toggleBreaks();
        window.addEventListener('resize', toggleBreaks);
    });
</script>

